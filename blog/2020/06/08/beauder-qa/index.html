<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
  
  <title>执手对影成双 - 关于 Beaudar 的 Q&amp;A</title>
  
  <meta name="baidu-site-verification" content="SQ5Gg5sRhQ" />
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-154705931-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-154705931-1');
  </script>

  
  <meta property="og:title" content="执手对影成双 - 关于 Beaudar 的 Q&amp;A">
  
  <meta property="og:type" content="website">
  <meta name="keywords" content="个人网站,博客">
  <script>
      console.info("\n%c 🎉 嗨~ 想看源代码？ %c \nGitHub仓库: https://github.com/zsdycs/lipk.org \n%c自主%c、%c跨界%c、%c终身学习%c。",
      "color: #fff; padding: 5px 0; background: #29c75f; margin: 1em 0;",
      "display: block;margin-left: 0.5em; margin: 1em 0;",
      "color:#E24432; font-size: 16px; margin: 1em 0;",
      "color:#666666; font-size: 16px; margin: 1em 0;",
      "color:#0E70ED; font-size: 16px; margin: 1em 0;",
      "color:#666666; font-size: 16px; margin: 1em 0;",
      "color:#009E5E; font-size: 16px; margin: 1em 0;",
      "color:#666666; font-size: 16px; margin: 1em 0;");
  </script>
  
  
  

  
  
  <meta property="description" content="api.github.com 部分 CDN 服务器被墙，导致请求失败。 解决思路，PC 端 host 重定向，移动端搭梯子。这里只提供 host 重定向的解决步骤。
[&amp;hellip;] 这个问题一般来说，如果网络连接没有问题，点击一下“刷新”按钮就可解决，因为 Beaudar 使用的是 Cloudflare 的网络。 在中国境内，部分地区会有网络不稳定的情况。
[&amp;hellip;] &amp;hellip;">
  <meta property="og:description" content="api.github.com 部分 CDN 服务器被墙，导致请求失败。 解决思路，PC 端 host 重定向，移动端搭梯子。这里只提供 host 重定向的解决步骤。
[&amp;hellip;] 这个问题一般来说，如果网络连接没有问题，点击一下“刷新”按钮就可解决，因为 Beaudar 使用的是 Cloudflare 的网络。 在中国境内，部分地区会有网络不稳定的情况。
[&amp;hellip;] &amp;hellip;">
  
  

  
  



<link id="highlightjsThemeDay"
    href='//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/styles/github.min.css'
    rel='stylesheet' type='text/css' />
<link id="highlightjsThemeNight"
    href='//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/styles/vs2015.min.css'
    rel='stylesheet' type='text/css' />
<script src='//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.1/build/highlight.min.js'></script>

  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/style.css" />
  <link rel="stylesheet" href="/css/fonts.css" />
  <script async src="/js/load-typekit.js"></script>
<link rel="stylesheet" id="github-light" href="/css/github-light.css" />
<link rel="stylesheet" id="github-dark" href="/css/github-dark.css" />
<link rel="stylesheet" id="github-dark-orange" href="/css/github-dark-orange.css" />
<link rel="stylesheet" id="dark-blue" href="/css/dark-blue.css" />
<link rel="stylesheet" id="icy-dark" href="/css/icy-dark.css" />
<link rel="stylesheet" id="photon-dark" href="/css/photon-dark.css" />
<link async href="//cdn.jsdelivr.net/gh/zsdycs/lipk.org/static/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>


<body class="blog">

  <main class="paramount">
    
    <header class="masthead">
      <nav class="menu">
  <ul>
    
    
    <li><a href="/">返回</a></li>
      
    <li><a href="/blog/">博客</a></li>
      
    <li><a href="/food/">美食</a></li>
      
      <li><button id="modeTag" onclick="mode()"></button></li>
      





<li>
  <a href="http://github.com/zsdycs/lipk.org/edit/master/content/blog/2020-06-08-Beauder-Q&amp;A.md" title="编辑本页"
    target="_blank">
    编辑
  </a>
</li>
<li>
  <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" title="版权声明" target="_blank">
    版权
  </a>
</li>



  </ul>
</nav>
    </header>
    <article class="main">
      
      <header class="title">
        

<h1>关于 Beaudar 的 Q&amp;A</h1>

<h3>
     
    李鹏坤 / 2020-06-08
</h3>
<hr>


      </header>

    


<h3 id="request-failed">Q：api.github.com 请求失败。</h3>
<p>api.github.com 部分 CDN 服务器被墙，导致请求失败。
解决思路，PC 端 host 重定向，移动端搭梯子。这里只提供 host 重定向的解决步骤。</p>
<ul>
<li><strong>首先，获取 api.github.com 解析的所有服务器</strong>
<ul>
<li>可以使用 <a href="https://site.ip138.com/">Ip138</a> 的域名解析查询服务，这个网站虽然有广告，但是在国内访问比较快。</li>
</ul>
</li>
<li><strong>确认 IP 可用</strong>
<ul>
<li>快捷键 <code>win + R</code> 打开启动工具，输入 <code>cmd</code> 或 <code>powershell</code>。</li>
<li>输入命令 <code>ping IP地址</code> 然后按 <code>Enter</code> 执行。例： <code>ping 140.82.114.6</code></li>
<li>如果没有出现 <code>请求超时</code> 或 <code>time out</code> 则当前测试的 IP 可用。</li>
</ul>
</li>
<li><strong>将 IP 地址填入 hosts 文件中</strong>
<ul>
<li>打开路径 <code>C:\Windows\System32\drivers\etc</code> 下的 hosts 文件。该文件是纯文本文件，可以使用记事本或你所安装的任何文本编辑器打开。</li>
<li>该文件有详细的填写说明，英文不畅者，可用<a href="https://translate.google.cn/">谷歌翻译</a>。</li>
<li>建议首尾两行添加 <code># github start</code> 和 <code># github end</code> 增加可读性。</li>
</ul>
</li>
<li><strong>更新 DNS，确保万无一失</strong>
<ul>
<li>命令 <code>ipconfig /flushdns</code> 于 <code>cmd</code> 或 <code>powershell</code> 使用，参照第二条。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="token-request-failed">Q：token 请求失败。</h3>
<p>这个问题一般来说，如果网络连接没有问题，点击一下“刷新”按钮就可解决，因为 Beaudar 使用的是 <a href="https://www.cloudflare.com/">Cloudflare</a> 的网络。
在中国境内，部分地区会有网络不稳定的情况。</p>
<hr>
<h3 id="missing-beaudar-configuration">Q：缺少 &ldquo;beaudar.json&rdquo; 配置 或 不允许 xxx 发布到 xxx/xxx</h3>
<p>这是因为 Beaudar 在评论输入到发表评论期间，会异步查询评论仓库的根目录是否存在 beaudar.json，并校验评论来源站点是否在文件中存在。
如果不存在，Beaudar 将不会在目标仓库建立评论 issue。可参考 <a href="https://github.com/beaudar/beaudar">Beaudar 代码仓库</a>中 <a href="https://github.com/beaudar/beaudar/blob/master/beaudar.json">beaudar.json</a> 的配置。多个 origins 来源，在数组 <code>[]</code> 中填写，以 <code>,</code> 分隔。</p>
<hr>
<h3 id="what-does-beaudar-add-compared-to-utterances">Q：与 Utterances 比较，<a href="http://beaudar.lipk.org">Beaudar</a> 增加了什么。</h3>
<ul>
<li>中文界面，拉近距离增加评论友好性。</li>
<li>完整头像，移动端与桌面端一致显示。</li>
<li>身份标识，在任何情况下都不会换行。</li>
<li>评论时间，缩小至与身份标识相同大。</li>
<li>名称显示，评论者名称放大增加辨识。</li>
<li>点击图片，打开新标签页图片源链接。</li>
<li>错误信息，使用对话框形式友好呈现。</li>
<li>评论头像，增加可使用 Tab 键选中。</li>
<li>加载状态，默认加载状态可配置去除。</li>
<li>移除来源，点击加载图标跳转至主页。</li>
<li>刷新页面，出现错误异常可进行刷新。</li>
<li>保持主题，刷新页面时主题将会保持。</li>
</ul>
<hr>
<h3 id="how-to-modify-beaudar-theme-on-the-referenced-page">Q：如何在引用的页面修改 Beaudar 的主题</h3>
<p>因为 Beaudar 出于安全考虑使用了 iframe 来进行隔离，通过 JS 是无法跨域修改的。可以使用 postMessage 来进行跨域通信。</p>
<p>例子如下：</p>
<pre><code class="language-javascript">/**
 * @theme 可选：
 * [
 *   'icy-dark',
 *   'dark-blue',
 *   'photon-dark',
 *   'github-dark',
 *   'github-light',
 *   'github-dark-orange',
 *   'preferred-color-scheme'
 * ]
 */
var message = {
  type: 'set-theme',
  theme: 'github-light'
};
var nowDarkmode = window.localStorage.getItem('mode');
var beaudar = document.querySelector('iframe');
// 与 beaudar 通信
beaudar.contentWindow.postMessage(message, 'https://beaudar.lipk.org');
</code></pre>

<div id="eof">
  <span>EOF</span>
</div>
      <footer>
      
  
  
<nav class="post-nav">
  <span class="nav-prev">&larr; <a href="/blog/2020/06/08/run-utterances/" title="你可以使用方向键">运行 Utterances 的详细教程</a></span>
  <span class="nav-next"><a href="/blog/2020/06/24/browser-cross-domain/" title="你可以使用方向键">常用浏览器跨域设置</a> &rarr;</span>
</nav>
<script type="text/javascript">
document.addEventListener('keyup', function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which === 37) {  
    
    url = '\/blog\/2020\/06\/08\/run-utterances\/';
    
  } else if (e.which === 39) {  
    
    url = '\/blog\/2020\/06\/24\/browser-cross-domain\/';
    
  }
  if (url) window.location = url;
});
</script>



<section id="beaudar" class="comments"></section>


<script async src="/js/give-up-IE.js"></script>

<script async src="/js/indentation-el.js"></script>

<script async src="/js/mode.js"></script>

<script async src="/js/beaudar.js"></script>

<script async src="/js/math-code.js"></script>

<script async src="/js/center-img.js"></script>

<script async src="/js/right-quote.js"></script>

<script async src="/js/no-highlight.js"></script>

<script async src="/js/fix-footnote.js"></script>

<script async src="/js/external-link.js"></script>

<script async src="/js/alt-title.js"></script>

<script async src="/js/header-link.js"></script>

<script async src="/js/checkbox-list.js"></script>



<script>hljs.configure({ languages: [] }); hljs.initHighlightingOnLoad();</script>




      
      <hr>
      <div class="copyright">
        <span class="slogan">执手相看，对影成双</span>
        © 2018 - 2020 <a href="/">执手对影成双</a>
        <a href="https://travellings.now.sh/" target="blank" title="开往-友链接力">
          <img src="/images/travellings.svg" alt="开往-友链接力" height="17" style="vertical-align: text-top;">
        </a>
      </div>
      
      </footer>
  
    </article>
  </main>
  
</body>
</html>
