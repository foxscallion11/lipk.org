### 第四十三个工作日
1. 更新警察厅svn，查看画面和api文档。
2. Postman模拟、测试api，修改画面代码调用“利用者申请”画面api。
```
(POST)/common/codes
(GET)/ms/dept/list
(GET)/ms/role/list
(GET)/common/funcs
(POST)/sy/user/add
 ```
3. 学习json转树，json转ant树。
```
// 转树
transData(data, idStr, pidStr, chindrenStr) {
    const tree = [], hash = {}, id = idStr, pid = pidStr, children = chindrenStr, len = data.length;
    for (let i = 0; i < len; i++) {
      hash[data[i][id]] = data[i];
    }
    for (let j = 0; j < len; j++) {
      const aVal = data[j], hashVP = hash[aVal[pid]];
      if (hashVP) {
        if (!hashVP[children] && (hashVP[children] = [])) {
          hashVP[children].push(aVal);
        }
      }
      tree.push(aVal);
    }
    return tree;
  }
  
// 转ant树
convertToDropDownDeptTree(allDepts: any[]): any[] {
const dropdownDeptList = [];
let rootDepts = _.filter(allDepts, item => !item.parentDeptId);
rootDepts = _.orderBy(rootDepts, [Order.COLUMN], ['asc']);
if (!_.isEmpty(rootDepts)) {
rootDepts.forEach((rootDept) => {
const subDepts = this.getDropDownSubDepts(rootDept , allDepts );
const firstLevelDept = {
key: rootDept.id,
title: rootDept.name,
isLeaf: undefined,
children: undefined
};
if (!_.isEmpty(subDepts)) {
firstLevelDept.children = subDepts;
} else {
firstLevelDept.isLeaf = true;
}
dropdownDeptList.push(firstLevelDept);
});
}
return dropdownDeptList;
}

getDropDownSubDepts = (parentDept: any, allDepts: any[] ) => {
const deptList = [];
let depts = _.filter(allDepts, item => item.parentDeptId === parentDept.id);
depts = _.orderBy(depts, [Order.COLUMN], ['asc']);
if (!_.isEmpty(depts)) {
parentDept.children = depts;
depts.forEach((dept) => {
const subDepts = this.getDropDownSubDepts(dept , allDepts);
const nextLevelDept = {
key: dept.id,
title: dept.name,
isLeaf: undefined,
children: undefined
};
if (!_.isEmpty(subDepts)) {
nextLevelDept.children = subDepts;
} else {
nextLevelDept.isLeaf = true;
}
deptList.push(nextLevelDept);
});
}
return deptList;
}
```
4. 测试环境省Q1修改的代码，讨论在切换选项时，与将切换的选项关联出现与否的题目已回答的答案清空的功能实现方法(在切换选项时不清空，在关联的题目消失时清空)。
5. 日语课(14:40-15:40)
<!--9:01-->